<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Galeria - KrisBud</title>
  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    
    body { 
      font-family: Arial, sans-serif; 
      color: #333; 
      background: #f8f9fa;
      padding-top: 60px;
    }
    
    header {
      background-color: #222;
      color: white;
      padding: 20px 0;
      text-align: center;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    
    nav {
      background-color: #444;
      padding: 10px;
      text-align: center;
      position: fixed;
      top: 80px;
      width: 100%;
      z-index: 999;
    }
    
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-size: 16px;
    }
    
    nav a:hover {
      color: #007f5f;
    }
    
    .container {
      max-width: 1400px;
      margin: 100px auto 40px;
      padding: 0 20px;
    }
    
    h1 { 
      color: #005f73; 
      text-align: center;
      margin-bottom: 40px;
      font-size: 2.5rem;
    }
    
    /* Kategorie */
    .categories {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 40px;
    }
    
    .category-btn {
      padding: 10px 20px;
      background-color: #e9ecef;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
      font-weight: 500;
    }
    
    .category-btn:hover {
      background-color: #d0d7e0;
      transform: translateY(-2px);
    }
    
    .category-btn.active {
      background-color: #005f73;
      color: white;
    }
    
    /* Sekcje kategorii */
    .category-section {
      margin-bottom: 60px;
      display: block;
    }
    
    .category-section.hidden {
      display: none;
    }
    
    .category-title {
      color: #005f73;
      text-align: center;
      margin-bottom: 30px;
      font-size: 1.8rem;
      padding-bottom: 10px;
      border-bottom: 2px solid #005f73;
    }
    
    /* Galeria */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    
    .gallery-item {
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
      height: 220px;
      cursor: pointer;
    }
    
    .gallery-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }
    
    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .gallery-item:hover img {
      transform: scale(1.05);
    }
    
    .image-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(0, 95, 115, 0.8);
      color: white;
      padding: 15px;
      transform: translateY(100%);
      transition: transform 0.3s ease;
    }
    
    .gallery-item:hover .image-overlay {
      transform: translateY(0);
    }
    
    .back-button {
      display: block;
      width: fit-content;
      margin: 40px auto 0;
      padding: 12px 25px;
      background-color: #005f73;
      color: white;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
      font-size: 16px;
      text-decoration: none;
      transition: background-color 0.3s ease;
    }
    
    .back-button:hover { 
      background-color: #00475a; 
      text-decoration: none;
    }
    
    .description {
      text-align: center;
      margin-bottom: 40px;
      font-size: 18px;
      color: #555;
      line-height: 1.6;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    /* LIGHTBOX STYLES */
    .lightbox {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }
    
    .lightbox.active {
      display: flex;
    }
    
    .lightbox-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .lightbox-img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
      animation: zoomIn 0.3s ease;
    }
    
    .lightbox-caption {
      color: white;
      text-align: center;
      margin-top: 20px;
      font-size: 18px;
      padding: 10px 20px;
      background: rgba(0, 95, 115, 0.8);
      border-radius: 5px;
      max-width: 800px;
    }
    
    .lightbox-caption h3 {
      margin-bottom: 5px;
      color: white;
    }
    
    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 95, 115, 0.8);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.3s;
      z-index: 2001;
    }
    
    .lightbox-nav:hover {
      background: rgba(0, 71, 90, 0.9);
    }
    
    .lightbox-prev {
      left: 20px;
    }
    
    .lightbox-next {
      right: 20px;
    }
    
    .lightbox-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 95, 115, 0.8);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.3s;
      z-index: 2001;
    }
    
    .lightbox-close:hover {
      background: rgba(204, 0, 0, 0.9);
    }
    
    .lightbox-counter {
      position: absolute;
      top: 20px;
      left: 20px;
      color: white;
      font-size: 18px;
      background: rgba(0, 95, 115, 0.8);
      padding: 8px 15px;
      border-radius: 20px;
      z-index: 2001;
    }
    
    .lightbox-thumbnails {
      display: flex;
      justify-content: center;
      margin-top: 20px;
      gap: 10px;
      flex-wrap: wrap;
      max-width: 90%;
    }
    
    .thumbnail {
      width: 80px;
      height: 60px;
      border-radius: 5px;
      overflow: hidden;
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.3s, transform 0.3s;
      border: 2px solid transparent;
    }
    
    .thumbnail:hover {
      opacity: 0.8;
      transform: scale(1.05);
    }
    
    .thumbnail.active {
      opacity: 1;
      border-color: #007f5f;
    }
    
    .thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes zoomIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    @media (max-width: 768px) {
      .gallery {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .lightbox-nav {
        width: 40px;
        height: 40px;
        font-size: 18px;
      }
      
      .lightbox-prev {
        left: 10px;
      }
      
      .lightbox-next {
        right: 10px;
      }
      
      .thumbnail {
        width: 60px;
        height: 45px;
      }
      
      .categories {
        gap: 8px;
      }
      
      .category-btn {
        padding: 8px 16px;
        font-size: 14px;
      }
    }
    
    @media (max-width: 480px) {
      .gallery {
        grid-template-columns: 1fr;
      }
      
      nav a {
        margin: 0 8px;
        font-size: 14px;
      }
      
      .lightbox-caption {
        font-size: 16px;
        padding: 8px 15px;
      }
      
      .thumbnail {
        width: 50px;
        height: 40px;
      }
      
      .category-btn {
        padding: 6px 12px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>KrisBud</h1>
    <p>Profesjonalne Usługi Remontowe</p>
  </header>
  
  <nav>
    <a href="index.html">Strona główna</a>
    <a href="oferta.html">Oferta</a>
    <a href="onas.html">O nas</a>
    <a href="dlaczego.html">Dlaczego my?</a>
    <a href="galeria.html">Galeria</a>
    <a href="kontakt.html">Kontakt</a>
  </nav>

  <div class="container">
    <h1>Galeria Naszych Realizacji</h1>
    
    <div class="description">
      <p>Poniżej prezentujemy nasze realizacje podzielone na kategorie. Kliknij na kategorię, aby zobaczyć zdjęcia, a następnie na dowolne zdjęcie, aby otworzyć galerię w pełnym rozmiarze.</p>
    </div>
    
    <!-- Przyciski kategorii -->
    <div class="categories">
      <button class="category-btn active" data-category="all">Realizacje</button>
      <button class="category-btn" data-category="lazienki">Łazienki</button>
      <button class="category-btn" data-category="kuchnie">Kuchnie</button>
      <button class="category-btn" data-category="salony">Salony</button>
      <button class="category-btn" data-category="pokojedzieciece">Pokoje dziecięce</button>
    </div>
    
    <!-- Sekcja wszystkich zdjęć -->
    <div id="category-all" class="category-section">
      <h2 class="category-title">Realizacje</h2>
      <div class="gallery">
        <!-- Wszystkie zdjęcia będą tu dodane przez JavaScript -->
      </div>
    </div>
    
    <!-- Kategoria: Łazienki -->
    <div id="category-lazienki" class="category-section hidden">
      <h2 class="category-title">Łazienki</h2>
      <div class="gallery">
        <!-- 10 zdjęć łazienek -->
        <div class="gallery-item" data-category="lazienki" data-index="0">
          <img src="zdjecia/lazienka1.jpg" alt="Nowoczesna łazienka" data-title="Nowoczesna łazienka" data-desc="Kompleksowy remont łazienki z montażem nowych płytek, armatury i oświetlenia LED">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="1">
          <img src="zdjecia/lazienka2.jpg" alt="Łazienka klasyczna" data-title="Łazienka w stylu klasycznym" data-desc="Remont łazienki z marmurowymi płytkami i tradycyjną armaturą">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="2">
          <img src="zdjecia/lazienka3.jpg" alt="Mała łazienka" data-title="Funkcjonalna mała łazienka" data-desc="Optymalizacja małej przestrzeni z lustrzanymi szafkami i podświetlanym lustrem">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="3">
          <img src="zdjecia/lazienka4.jpg" alt="Łazienka z prysznicem" data-title="Łazienka z kabiną prysznicową" data-desc="Instalacja nowoczesnej kabiny prysznicowej z systemem natrysków">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="4">
          <img src="zdjecia/lazienka5.jpg" alt="Łazienka rodzinna" data-title="Duża łazienka rodzinna" data-desc="Przestronna łazienka z dwoma umywalkami i systemem przechowywania">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="5">
          <img src="zdjecia/lazienka6.jpg" alt="Łazienka z wanną" data-title="Łazienka z wolnostojącą wanną" data-desc="Montaż wolnostojącej wanny i eleganckich akcesoriów łazienkowych">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="6">
          <img src="zdjecia/lazienka7.jpg" alt="Łazienka loftowa" data-title="Łazienka w stylu loftowym" data-desc="Industrialne detale, betonowe płytki i metalowe akcenty">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="7">
          <img src="zdjecia/lazienka8.jpg" alt="Łazienka rustykalna" data-title="Łazienka rustykalna" data-desc="Drewniane elementy, kamienne płytki i tradycyjne oświetlenie">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="8">
          <img src="zdjecia/lazienka9.jpg" alt="Łazienka minimalistyczna" data-title="Minimalistyczna łazienka" data-desc="Proste formy, ukryte systemy przechowywania i monochromatyczna kolorystyka">
        </div>
        
        <div class="gallery-item" data-category="lazienki" data-index="9">
          <img src="zdjecia/lazienka10.jpg" alt="Łazienka z sauną" data-title="Łazienka z mini-sauną" data-desc="Kompleksowa łazienka z wbudowaną mini-sauną fińską">
        </div>
      </div>
    </div>
    
    <!-- Kategoria: Kuchnie -->
    <div id="category-kuchnie" class="category-section hidden">
      <h2 class="category-title">Kuchnie</h2>
      <div class="gallery">
        <!-- 10 zdjęć kuchni -->
        <div class="gallery-item" data-category="kuchnie" data-index="10">
          <img src="zdjecia/kuchnia1.jpg" alt="Kuchnia nowoczesna" data-title="Kuchnia w stylu nowoczesnym" data-desc="Montaż mebli kuchennych, blatu granitowego i nowoczesnych urządzeń AGD">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="11">
          <img src="zdjecia/kuchnia2.jpg" alt="Kuchnia otwarta" data-title="Otwarta kuchnia salonowa" data-desc="Integracja kuchni z salonem, wyspa kuchenna i system przechowywania">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="12">
          <img src="zdjecia/kuchnia3.jpg" alt="Kuchnia rustykalna" data-title="Kuchnia w stylu rustykalnym" data-desc="Drewniane meble kuchenne, ceglany detal i tradycyjne oświetlenie">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="13">
          <img src="zdjecia/kuchnia4.jpg" alt="Kuchnia z wyspą" data-title="Kuchnia z funkcjonalną wyspą" data-desc="Wyspa kuchenna z blatem roboczym i miejscami do siedzenia">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="14">
          <img src="zdjecia/kuchnia5.jpg" alt="Kuchnia minimalistyczna" data-title="Minimalistyczna kuchnia" data-desc="Ukryte szafki, płaskie fronty i zintegrowane urządzenia">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="15">
          <img src="zdjecia/kuchnia6.jpg" alt="Kuchnia industrialna" data-title="Kuchnia w stylu industrialnym" data-desc="Metalowe elementy, betonowy blat i otwarte regały">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="16">
          <img src="zdjecia/kuchnia7.jpg" alt="Kuchnia klasyczna" data-title="Klasyczna kuchnia drewniana" data-desc="Dębowe meble, dekoracyjne fronty i marmurowy blat">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="17">
          <img src="zdjecia/kuchnia8.jpg" alt="Mała kuchnia" data-title="Funkcjonalna mała kuchnia" data-desc="Optymalne wykorzystanie małej przestrzeni z systemem rozsuwanych drzwi">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="18">
          <img src="zdjecia/kuchnia9.jpg" alt="Kuchnia retro" data-title="Kuchnia w stylu retro" data-desc="Pastelowe kolory, zaokrąglone kształty i vintage'owe akcesoria">
        </div>
        
        <div class="gallery-item" data-category="kuchnie" data-index="19">
          <img src="zdjecia/kuchnia10.jpg" alt="Kuchnia profesjonalna" data-title="Profesjonalna kuchnia" data-desc="Wydajna wentylacja, profesjonalny sprzęt AGD i oświetlenie robocze">
        </div>
      </div>
    </div>
    
    <!-- Kategoria: Salony -->
    <div id="category-salony" class="category-section hidden">
      <h2 class="category-title">Salony</h2>
      <div class="gallery">
        <!-- 10 zdjęć salonów -->
        <div class="gallery-item" data-category="salony" data-index="20">
          <img src="zdjecia/salon1.jpg" alt="Salon nowoczesny" data-title="Nowoczesny salon" data-desc="Kompleksowy remont salonu: malowanie, montaż paneli podłogowych i systemu oświetlenia">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="21">
          <img src="zdjecia/salon2.jpg" alt="Salon klasyczny" data-title="Salon w stylu klasycznym" data-desc="Drewniana zabudowa, kominek i tradycyjne detale architektoniczne">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="22">
          <img src="zdjecia/salon3.jpg" alt="Salon minimalistyczny" data-title="Minimalistyczny salon" data-desc="Proste formy, neutralne kolory i ukryte systemy przechowywania">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="23">
          <img src="zdjecia/salon4.jpg" alt="Salon loftowy" data-title="Salon w stylu loftowym" data-desc="Ceglane ściany, surowe betonowe elementy i industrialne oświetlenie">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="24">
          <img src="zdjecia/salon5.jpg" alt="Salon skandynawski" data-title="Salon w stylu skandynawskim" data-desc="Jasne drewno, białe ściany i funkcjonalne meble">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="25">
          <img src="zdjecia/salon6.jpg" alt="Salon rustykalny" data-title="Salon rustykalny" data-desc="Drewniane belki, kamienny kominek i naturalne materiały">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="26">
          <img src="zdjecia/salon7.jpg" alt="Salon z kominkiem" data-title="Salon z nowoczesnym kominkiem" data-desc="Montaż kominka elektrycznego z efektem 3D ognia">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="27">
          <img src="zdjecia/salon8.jpg" alt="Salon z biblioteką" data-title="Salon z wbudowaną biblioteką" data-desc="Zabudowa ścienna z regałami na książki i systemem oświetlenia">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="28">
          <img src="zdjecia/salon9.jpg" alt="Salon z TV" data-title="Salon z zabudową TV" data-desc="Elegancka zabudowa telewizyjna z systemem przechowywania nośników">
        </div>
        
        <div class="gallery-item" data-category="salony" data-index="29">
          <img src="zdjecia/salon10.jpg" alt="Salon panoramicny" data-title="Salon z panoramicznym oknem" data-desc="Montaż dużych przeszkleń z dostępem do tarasu">
        </div>
      </div>
    </div>
    
    <!-- Kategoria: Pokoje dziecięce -->
    <div id="category-pokojedzieciece" class="category-section hidden">
      <h2 class="category-title">Pokoje dziecięce</h2>
      <div class="gallery">
        <!-- 10 zdjęć pokoi dziecięcych -->
        <div class="gallery-item" data-category="pokojedzieciece" data-index="30">
          <img src="zdjecia/pokoj1.jpg" alt="Pokój dziecięcy" data-title="Pokój dla chłopca" data-desc="Remont pokoju z motywem morskim, zabudową meblową i miejscem do zabawy">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="31">
          <img src="zdjecia/pokoj2.jpg" alt="Pokój młodzieżowy" data-title="Pokój młodzieżowy" data-desc="Nowoczesny pokój z biurkiem, systemem przechowywania i oświetleniem punktowym">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="32">
          <img src="zdjecia/pokoj3.jpg" alt="Pokój dla dziewczynki" data-title="Pokój dla dziewczynki" data-desc="Biało-różowy pokój z baldachimem, domkiem dla lalek i systemem przechowywania">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="33">
          <img src="zdjecia/pokoj4.jpg" alt="Pokój dla bliźniaków" data-title="Pokój dla bliźniaków" data-desc="Funkcjonalny pokój z dwoma łóżkami piętrowymi i oddzielnymi strefami">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="34">
          <img src="zdjecia/pokoj5.jpg" alt="Pokój z łóżkiem piętrowym" data-title="Pokój z łóżkiem piętrowym" data-desc="Łóżko piętrowe z biurkiem pod spodem i systemem półek">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="35">
          <img src="zdjecia/pokoj6.jpg" alt="Pokój z zabudową" data-title="Pokój z pełną zabudową meblową" data-desc="Meble na wymiar, ukryte systemy przechowywania i strefa nauki">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="36">
          <img src="zdjecia/pokoj7.jpg" alt="Pokój tematyczny" data-title="Pokój w stylu kosmicznym" data-desc="Tematyczny pokój z planetami, rakietą i niebieskim oświetleniem">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="37">
          <img src="zdjecia/pokoj8.jpg" alt="Pokój z kącikiem zabaw" data-title="Pokój z wydzieloną strefą zabaw" data-desc="Dywany, miękkie wykładziny i bezpieczne meble dla małych dzieci">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="38">
          <img src="zdjecia/pokoj9.jpg" alt="Pokój dla nastolatka" data-title="Pokój dla nastolatka" data-desc="Nowoczesny design, miejsce na hobby i technologię">
        </div>
        
        <div class="gallery-item" data-category="pokojedzieciece" data-index="39">
          <img src="zdjecia/pokoj10.jpg" alt="Pokój uniwersalny" data-title="Uniwersalny pokój dziecięcy" data-desc="Neutralna kolorystyka, modułowe meble i możliwość łatwych zmian">
        </div>
      </div>
    </div>
    
    <a href="index.html" class="back-button">&larr; Powrót do strony głównej</a>
  </div>

  <!-- Lightbox (modal) -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-content">
      <div class="lightbox-counter" id="lightbox-counter">1 / 40</div>
      <button class="lightbox-close" id="lightbox-close">&times;</button>
      <button class="lightbox-nav lightbox-prev" id="lightbox-prev">&#10094;</button>
      <img class="lightbox-img" id="lightbox-img" src="" alt="">
      <button class="lightbox-nav lightbox-next" id="lightbox-next">&#10095;</button>
      <div class="lightbox-caption" id="lightbox-caption">
        <h3 id="lightbox-title">Tytuł zdjęcia</h3>
        <p id="lightbox-desc">Opis zdjęcia</p>
      </div>
      <div class="lightbox-thumbnails" id="lightbox-thumbnails">
        <!-- Thumbnails będą dodane przez JavaScript -->
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Elementy DOM
      const categoryButtons = document.querySelectorAll('.category-btn');
      const categorySections = document.querySelectorAll('.category-section');
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxTitle = document.getElementById('lightbox-title');
      const lightboxDesc = document.getElementById('lightbox-desc');
      const lightboxCounter = document.getElementById('lightbox-counter');
      const lightboxClose = document.getElementById('lightbox-close');
      const lightboxPrev = document.getElementById('lightbox-prev');
      const lightboxNext = document.getElementById('lightbox-next');
      const lightboxThumbnails = document.getElementById('lightbox-thumbnails');
      
      let currentIndex = 0;
      let images = [];
      let currentCategory = 'all';
      
      // Inicjalizacja galerii
      function initGallery() {
        images = [];
        
        // Zbierz wszystkie zdjęcia z galerii
        document.querySelectorAll('.gallery-item').forEach(item => {
          const img = item.querySelector('img');
          const category = item.getAttribute('data-category');
          const index = parseInt(item.getAttribute('data-index'));
          
          images.push({
            src: img.src,
            alt: img.alt,
            title: img.getAttribute('data-title') || img.alt,
            desc: img.getAttribute('data-desc') || '',
            index: index,
            category: category
          });
          
          // Dodaj klikalność do każdego zdjęcia
          item.addEventListener('click', () => {
            currentIndex = index;
            openLightbox();
          });
        });
        
        // Posortuj zdjęcia według indeksu
        images.sort((a, b) => a.index - b.index);
        
        // Wypełnij sekcję "Realizacje" wszystkimi zdjęciami
        populateAllCategory();
      }
      
      // Wypełnij sekcję "Realizacje"
      function populateAllCategory() {
        const allGallery = document.querySelector('#category-all .gallery');
        allGallery.innerHTML = '';
        
        images.forEach((image, index) => {
          const galleryItem = document.createElement('div');
          galleryItem.className = 'gallery-item';
          galleryItem.setAttribute('data-category', image.category);
          galleryItem.setAttribute('data-index', index);
          galleryItem.innerHTML = `
            <img src="${image.src}" alt="${image.alt}" 
                 data-title="${image.title}" 
                 data-desc="${image.desc}">
            <div class="image-overlay">
              <h3>${image.title}</h3>
              <p>${image.category}</p>
            </div>
          `;
          
          galleryItem.addEventListener('click', () => {
            currentIndex = index;
            openLightbox();
          });
          
          allGallery.appendChild(galleryItem);
        });
      }
      
      // Zmiana kategorii
      categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
          const category = button.getAttribute('data-category');
          
          // Aktualizuj aktywne przyciski
          categoryButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          
          // Pokaż/ukryj odpowiednie sekcje
          categorySections.forEach(section => {
            if (category === 'all') {
              document.getElementById('category-all').classList.remove('hidden');
              section.id === 'category-all' ? section.classList.remove('hidden') : section.classList.add('hidden');
            } else {
              document.getElementById('category-all').classList.add('hidden');
              if (section.id === `category-${category}`) {
                section.classList.remove('hidden');
              } else {
                section.classList.add('hidden');
              }
            }
          });
          
          currentCategory = category;
        });
      });
      
      // Tworzenie miniaturek
      function createThumbnails() {
        lightboxThumbnails.innerHTML = '';
        
        // Filtruj zdjęcia według kategorii
        let filteredImages = images;
        if (currentCategory !== 'all') {
          filteredImages = images.filter(img => img.category === currentCategory);
        }
        
        filteredImages.forEach((image, index) => {
          const thumbnail = document.createElement('div');
          thumbnail.className = 'thumbnail';
          
          // Znajdź oryginalny indeks zdjęcia w głównej tablicy
          const originalIndex = images.findIndex(img => 
            img.src === image.src && img.index === image.index
          );
          
          if (originalIndex === currentIndex) thumbnail.classList.add('active');
          
          thumbnail.innerHTML = `<img src="${image.src}" alt="${image.alt}">`;
          thumbnail.addEventListener('click', () => {
            currentIndex = originalIndex;
            updateLightbox();
          });
          lightboxThumbnails.appendChild(thumbnail);
        });
      }
      
      // Otwórz lightbox
      function openLightbox() {
        updateLightbox();
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
      
      // Zamknij lightbox
      function closeLightbox() {
        lightbox.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
      
      // Aktualizuj zawartość lightboxa
      function updateLightbox() {
        const currentImage = images[currentIndex];
        lightboxImg.src = currentImage.src;
        lightboxImg.alt = currentImage.alt;
        lightboxTitle.textContent = currentImage.title;
        lightboxDesc.textContent = currentImage.desc;
        lightboxCounter.textContent = `${currentIndex + 1} / ${images.length}`;
        
        createThumbnails();
      }
      
      // Następne zdjęcie
      function nextImage() {
        // Jeśli jesteśmy w kategorii, przechodź tylko przez zdjęcia z tej kategorii
        if (currentCategory !== 'all') {
          const categoryImages = images.filter(img => img.category === currentCategory);
          const currentInCategory = categoryImages.findIndex(img => img.index === images[currentIndex].index);
          const nextInCategory = (currentInCategory + 1) % categoryImages.length;
          currentIndex = images.findIndex(img => 
            img.src === categoryImages[nextInCategory].src && 
            img.index === categoryImages[nextInCategory].index
          );
        } else {
          currentIndex = (currentIndex + 1) % images.length;
        }
        updateLightbox();
      }
      
      // Poprzednie zdjęcie
      function prevImage() {
        // Jeśli jesteśmy w kategorii, przechodź tylko przez zdjęcia z tej kategorii
        if (currentCategory !== 'all') {
          const categoryImages = images.filter(img => img.category === currentCategory);
          const currentInCategory = categoryImages.findIndex(img => img.index === images[currentIndex].index);
          const prevInCategory = (currentInCategory - 1 + categoryImages.length) % categoryImages.length;
          currentIndex = images.findIndex(img => 
            img.src === categoryImages[prevInCategory].src && 
            img.index === categoryImages[prevInCategory].index
          );
        } else {
          currentIndex = (currentIndex - 1 + images.length) % images.length;
        }
        updateLightbox();
      }
      
      // Obsługa klawiatury
      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('active')) return;
        
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowRight') nextImage();
        if (e.key === 'ArrowLeft') prevImage();
      });
      
      // Event listeners
      lightboxClose.addEventListener('click', closeLightbox);
      lightboxPrev.addEventListener('click', prevImage);
      lightboxNext.addEventListener('click', nextImage);
      
      // Kliknięcie poza obrazkiem zamyka lightbox
      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });
      
      // Swipe dla urządzeń mobilnych
      let touchStartX = 0;
      let touchEndX = 0;
      
      lightbox.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
      });
      
      lightbox.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      });
      
      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        
        if (Math.abs(diff) > swipeThreshold) {
          if (diff > 0) {
            nextImage(); // Swipe w lewo = następne zdjęcie
          } else {
            prevImage(); // Swipe w prawo = poprzednie zdjęcie
          }
        }
      }
      
      // Inicjalizuj galerię
      initGallery();
    });
  </script>
</body>
</html>